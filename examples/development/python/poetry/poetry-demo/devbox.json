{
  "packages": [
    "python@latest",
    "poetry@latest"
  ],
  "shell": {
    "init_hook": [
      "poetry install"
      // Devbox does calls this command in `.devbox/virtenv/poetry/bin/initHook.sh` but
      // sets the python to be its python.  Unfortunately this breaks all the poetry
      // installed python packages (sys.path) and any scripts defined in pyproject.toml
      "eval $(poetry env activate)",
    ],
    "scripts": {
      "run_test": "poetry run python -m poetry_demo",
      "test": "poetry run pytest"
    }
  }
}
